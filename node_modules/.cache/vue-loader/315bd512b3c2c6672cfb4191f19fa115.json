{"remainingRequest":"/Users/tianfeng/Desktop/is216project/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tianfeng/Desktop/is216project/app/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tianfeng/Desktop/is216project/app/src/views/Register.vue","mtime":1636445413787},{"path":"/Users/tianfeng/Desktop/is216project/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tianfeng/Desktop/is216project/app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tianfeng/Desktop/is216project/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tianfeng/Desktop/is216project/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRBdXRoLCBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmR9IGZyb20gImZpcmViYXNlL2F1dGgiOw0KaW1wb3J0IHsgZ2V0RmlyZXN0b3JlLCBkb2MsIHNldERvY30gZnJvbSAiZmlyZWJhc2UvZmlyZXN0b3JlIg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAncmVnaXN0ZXInLA0KICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZW1haWwgOiAiIiwNCiAgICAgICAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgICAgICAgIGNQYXNzd29yZDogIiIsDQogICAgICAgICAgICB1c2VybmFtZToiIiwNCiAgICAgICAgICAgIGVycm9yOiBudWxsLA0KICAgICAgICB9DQogICAgfSwNCiAgY29tcG9uZW50czogew0KDQogIH0sDQogIG1ldGhvZHMgOnsNCiAgICAgIHJlZ2lzdGVyTmV3VXNlcigpew0KDQogICAgICAgIHZhciBhdXRoID0gZ2V0QXV0aCgpOw0KICAgICAgICBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgdGhpcy5lbWFpbCwgdGhpcy5wYXNzd29yZCkNCiAgICAgICAgLnRoZW4oKHVzZXJDcmVkZW50aWFsKSA9PiB7DQogICAgICAgIC8vIFNpZ25lZCBpbiANCiAgICAgICAgICAgIHZhciB1c2VyID0gdXNlckNyZWRlbnRpYWwudXNlcjsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXIudWlkKTsNCiAgICAgICAgICAgIC8vIC4uLg0KICAgICAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vQWRkIGEgbmV3IGRvY3VtZW50IGluIGNvbGxlY3Rpb24gInVzZXIiDQogICAgICAgICAgICB2YXIgZGIgPSBnZXRGaXJlc3RvcmUoKTsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgc2V0RG9jKGRvYyhkYiwgICJ1c2VycyIsdXNlci51aWQpLCB7DQogICAgICAgICAgICAgICAgICAgIGVtYWlsOnRoaXMuZW1haWwsDQogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOnRoaXMuZW1haWwNCiAgICAgICAgICAgICAgICB9KS50aGVuKCgpPT57DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJVc2VyQ3JlYXRlZCIpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGFkZGluZyBkb2N1bWVudDogIiwgZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmVtYWlsID0gIiI7DQogICAgICAgICAgICB0aGlzLnBhc3N3b3JkID0gIiI7DQogICAgICAgICAgICB0aGlzLmNQYXNzd29yZCA9ICIiDQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9sb2dpbid9KSwgMzAwMCk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICAgIHZhciBlcnJvckNvZGUgPSBlcnJvci5jb2RlOw0KICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7DQogICAgICAgICAgICAvLyAuLg0KICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yQ29kZTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yQ29kZSk7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvck1lc3NhZ2UpOw0KICAgICAgICB9KTsNCiAgICAgIH0sDQogICAgICBhZGRUb1VzZXJzKCl7DQogICAgICAgICAgDQogICAgICB9DQogIH0sDQogIGNvbXB1dGU6ew0KDQogIH0NCn0NCg0K"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div id=\"register\">\r\n    <div class=\"container\">\r\n        <div class=\"row\" >\r\n            <div class=\"col-md-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"box\">\r\n                        <h1>Register</h1>\r\n                        <p class=\"text-muted\"> Please enter your Email and password!</p>\r\n                        <input type=\"text\" v-model=\"email\" placeholder=\"Email\">\r\n                        <p v-if=\"error != null\" style=\"color:red\">{{error}}</p>\r\n                        <input type=\"password\" v-model=\"password\" placeholder=\"Password\">\r\n                        <input type=\"password\" v-model=\"cPassword\" placeholder=\"Confirm Password\">\r\n                        <p v-if=\"password != cPassword\" style=\"color:red\">Password does not match</p>\r\n                        <button v-if=\"password == cPassword\" type=\"submit\" @click=\"registerNewUser\">Register</button>\r\n                        <hr>\r\n                        <p class=\"text-muted\">\r\n                            Have an account? <a href=\"login.html\" class=\"text-reset\">LogIn</a>.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n<script>\r\nimport { getAuth, createUserWithEmailAndPassword} from \"firebase/auth\";\r\nimport { getFirestore, doc, setDoc} from \"firebase/firestore\"\r\nexport default {\r\n  name: 'register',\r\n  data() {\r\n        return {\r\n            email : \"\",\r\n            password: \"\",\r\n            cPassword: \"\",\r\n            username:\"\",\r\n            error: null,\r\n        }\r\n    },\r\n  components: {\r\n\r\n  },\r\n  methods :{\r\n      registerNewUser(){\r\n\r\n        var auth = getAuth();\r\n        createUserWithEmailAndPassword(auth, this.email, this.password)\r\n        .then((userCredential) => {\r\n        // Signed in \r\n            var user = userCredential.user;\r\n            console.log(user.uid);\r\n            // ...\r\n            this.error = null;\r\n            \r\n            //Add a new document in collection \"user\"\r\n            var db = getFirestore();\r\n            try {\r\n                setDoc(doc(db,  \"users\",user.uid), {\r\n                    email:this.email,\r\n                    username:this.email\r\n                }).then(()=>{\r\n                    console.log(\"UserCreated\");\r\n                });\r\n            } catch (e) {\r\n                console.error(\"Error adding document: \", e);\r\n            }\r\n            this.email = \"\";\r\n            this.password = \"\";\r\n            this.cPassword = \"\"\r\n            setTimeout(() => this.$router.push({ path: '/login'}), 3000);\r\n        })\r\n        .catch((error) => {\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n            // ..\r\n            this.error = errorCode;\r\n            console.log(errorCode);\r\n            console.log(errorMessage);\r\n        });\r\n      },\r\n      addToUsers(){\r\n          \r\n      }\r\n  },\r\n  compute:{\r\n\r\n  }\r\n}\r\n\r\n</script>\r\n"]}]}