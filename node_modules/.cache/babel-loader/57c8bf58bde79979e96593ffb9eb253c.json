{"remainingRequest":"/Users/tianfeng/Desktop/Final copy/app/node_modules/babel-loader/lib/index.js!/Users/tianfeng/Desktop/Final copy/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tianfeng/Desktop/Final copy/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tianfeng/Desktop/Final copy/app/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tianfeng/Desktop/Final copy/app/src/views/Register.vue","mtime":1636819658826},{"path":"/Users/tianfeng/Desktop/Final copy/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tianfeng/Desktop/Final copy/app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tianfeng/Desktop/Final copy/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tianfeng/Desktop/Final copy/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0QXV0aCwgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkIH0gZnJvbSAiZmlyZWJhc2UvYXV0aCI7CmltcG9ydCB7IGdldEZpcmVzdG9yZSwgZG9jLCBzZXREb2MgfSBmcm9tICJmaXJlYmFzZS9maXJlc3RvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3JlZ2lzdGVyJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIGNQYXNzd29yZDogIiIsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgZXJyb3I6IG51bGwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBtZXRob2RzOiB7CiAgICByZWdpc3Rlck5ld1VzZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyTmV3VXNlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnVzZXJuYW1lID09ICIiKSB7CiAgICAgICAgdGhpcy51c2VybmFtZSA9IHRoaXMuZW1haWw7CiAgICAgIH0KCiAgICAgIHZhciBhdXRoID0gZ2V0QXV0aCgpOwogICAgICBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgdGhpcy5lbWFpbCwgdGhpcy5wYXNzd29yZCkudGhlbihmdW5jdGlvbiAodXNlckNyZWRlbnRpYWwpIHsKICAgICAgICAvLyBTaWduZWQgaW4gCiAgICAgICAgdmFyIHVzZXIgPSB1c2VyQ3JlZGVudGlhbC51c2VyOwogICAgICAgIGNvbnNvbGUubG9nKHVzZXIudWlkKTsgLy8gLi4uCgogICAgICAgIF90aGlzLmVycm9yID0gbnVsbDsgLy9BZGQgYSBuZXcgZG9jdW1lbnQgaW4gY29sbGVjdGlvbiAidXNlciIKCiAgICAgICAgdmFyIGRiID0gZ2V0RmlyZXN0b3JlKCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBzZXREb2MoZG9jKGRiLCAidXNlcnMiLCB1c2VyLnVpZCksIHsKICAgICAgICAgICAgZW1haWw6IF90aGlzLmVtYWlsLAogICAgICAgICAgICB1c2VybmFtZTogX3RoaXMudXNlcm5hbWUsCiAgICAgICAgICAgIHByb2ZpbGVQaWM6ICJodHRwczovL2Jvb3RkZXkuY29tL2ltZy9Db250ZW50L2F2YXRhci9hdmF0YXIxLnBuZyIKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiVXNlckNyZWF0ZWQiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGFkZGluZyBkb2N1bWVudDogIiwgZSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5lbWFpbCA9ICIiOwogICAgICAgIF90aGlzLnBhc3N3b3JkID0gIiI7CiAgICAgICAgX3RoaXMuY1Bhc3N3b3JkID0gIiI7CiAgICAgICAgX3RoaXMudXNlcm5hbWUgPSAiIjsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAnL2xvZ2luJwogICAgICAgICAgfSk7CiAgICAgICAgfSwgMzAwMCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHZhciBlcnJvckNvZGUgPSBlcnJvci5jb2RlOwogICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOyAvLyAuLgoKICAgICAgICBfdGhpcy5lcnJvciA9IGVycm9yQ29kZTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvckNvZGUpOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yTWVzc2FnZSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZToge30KfTs="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,SAAA,OAAA,EAAA,8BAAA,QAAA,eAAA;AACA,SAAA,YAAA,EAAA,GAAA,EAAA,MAAA,QAAA,oBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,KAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,UAAA,EAAA,EAXA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AAAA;;AACA,UAAA,KAAA,QAAA,IAAA,EAAA,EAAA;AACA,aAAA,QAAA,GAAA,KAAA,KAAA;AACA;;AACA,UAAA,IAAA,GAAA,OAAA,EAAA;AACA,MAAA,8BAAA,CAAA,IAAA,EAAA,KAAA,KAAA,EAAA,KAAA,QAAA,CAAA,CACA,IADA,CACA,UAAA,cAAA,EAAA;AACA;AACA,YAAA,IAAA,GAAA,cAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA,EAHA,CAIA;;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CALA,CAMA;;AACA,YAAA,EAAA,GAAA,YAAA,EAAA;;AACA,YAAA;AACA,UAAA,MAAA,CAAA,GAAA,CAAA,EAAA,EAAA,OAAA,EAAA,IAAA,CAAA,GAAA,CAAA,EAAA;AACA,YAAA,KAAA,EAAA,KAAA,CAAA,KADA;AAEA,YAAA,QAAA,EAAA,KAAA,CAAA,QAFA;AAGA,YAAA,UAAA,EAAA;AAHA,WAAA,CAAA,CAIA,IAJA,CAIA,YAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,aAAA;AACA,WANA;AAOA,SARA,CAQA,OAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,yBAAA,EAAA,CAAA;AACA;;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA,QAAA,UAAA,CAAA;AAAA,iBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA,CAAA;AAAA,SAAA,EAAA,IAAA,CAAA;AACA,OAzBA,EA0BA,KA1BA,CA0BA,UAAA,KAAA,EAAA;AACA,YAAA,SAAA,GAAA,KAAA,CAAA,IAAA;AACA,YAAA,YAAA,GAAA,KAAA,CAAA,OAAA,CAFA,CAGA;;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,SAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,YAAA;AACA,OAjCA;AAkCA;AAxCA,GAdA;AAwDA,EAAA,OAAA,EAAA;AAxDA,CAAA","sourcesContent":["<template>\r\n<div id=\"register\">\r\n    <div class=\"container\">\r\n        <div class=\"row\" >\r\n            <div class=\"col-md-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"box\">\r\n                        <h1>Register</h1>\r\n                        <p class=\"text-muted\"> Please enter your Email and password!</p>\r\n                        <input type=\"text\" v-model=\"email\" placeholder=\"Email\">\r\n                        <input type=\"text\" v-model=\"username\" placeholder=\"Username(Optional)\">\r\n                        <p v-if=\"error != null\" style=\"color:red\">{{error}}</p>\r\n                        <input type=\"password\" v-model=\"password\" placeholder=\"Password\">\r\n                        <input type=\"password\" v-model=\"cPassword\" placeholder=\"Confirm Password\">\r\n                        <p v-if=\"password != cPassword\" style=\"color:red\">Password does not match</p>\r\n                        <button v-if=\"password == cPassword\" type=\"submit\" @click=\"registerNewUser\">Register</button>\r\n                        <hr>\r\n                        <p class=\"text-muted\">\r\n                            Have an account? <a href=\"login.html\" class=\"text-reset\">LogIn</a>.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n<script>\r\nimport { getAuth, createUserWithEmailAndPassword} from \"firebase/auth\";\r\nimport { getFirestore, doc, setDoc} from \"firebase/firestore\"\r\nexport default {\r\n  name: 'register',\r\n  data() {\r\n        return {\r\n            email : \"\",\r\n            password: \"\",\r\n            cPassword: \"\",\r\n            username:\"\",\r\n            error: null,\r\n        }\r\n    },\r\n  components: {\r\n\r\n  },\r\n  methods :{\r\n      registerNewUser(){\r\n        if(this.username ==\"\"){\r\n            this.username = this.email;\r\n        }\r\n        var auth = getAuth();\r\n        createUserWithEmailAndPassword(auth, this.email, this.password)\r\n        .then((userCredential) => {\r\n        // Signed in \r\n            var user = userCredential.user;\r\n            console.log(user.uid);\r\n            // ...\r\n            this.error = null;\r\n            //Add a new document in collection \"user\"\r\n            var db = getFirestore();\r\n            try {\r\n                setDoc(doc(db,  \"users\",user.uid), {\r\n                    email:this.email,\r\n                    username:this.username,\r\n                    profilePic: \"https://bootdey.com/img/Content/avatar/avatar1.png\"\r\n                }).then(()=>{\r\n                    console.log(\"UserCreated\");\r\n                });\r\n            } catch (e) {\r\n                console.error(\"Error adding document: \", e);\r\n            }\r\n            this.email = \"\";\r\n            this.password = \"\";\r\n            this.cPassword = \"\";\r\n            this.username = \"\";\r\n            setTimeout(() => this.$router.push({ path: '/login'}), 3000);\r\n        })\r\n        .catch((error) => {\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n            // ..\r\n            this.error = errorCode;\r\n            console.log(errorCode);\r\n            console.log(errorMessage);\r\n        });\r\n      },\r\n  },\r\n  compute:{\r\n\r\n  }\r\n}\r\n\r\n</script>\r\n"],"sourceRoot":"src/views"}]}